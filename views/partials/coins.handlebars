
{{#each coins as |coin|}}
  <div class="card float-child" style="width: 18rem;">
    <br />
    <div class="img-container">
      <img class="card-image" src="{{coin.img}}" alt="Avatar" />
    </div>
    <div class="card-body">
    </div>
    <div class="card-body coinContainer">
      <h5 class="card-title">{{coin.name}}</h5>
      <h6 class="card-ticker">{{coin.ticker}}</h6>
      <div class="form-group">
        <p>Current Price<br></p>
      <p class="currentPrice">{{coin.currentPrice}}</p>
        <label for="coin-quantity">Quantity: </label>
        <input
          class="form-input quantity"
          type="number"
          min = "0"
          step="any"
          name="quantity"
          onchange="updateCost(event)"
          data-price={{coin.currentPrice}}
          default="0"
          id="{{coin.ticker}}-quantity"
        />
        <div class="cost">Total Cost: </div>
        <div class="cost-output">0</div>
      </div>
      <button type="submit" class="coin" data-price={{coin.currentPrice}} data-ticker={{coin.ticker}} onClick="addToWallet(event)">Add to Wallet</button>
    </div>
  </div>
{{/each}}
<script>
const tickers = []
let walletTotalCost = 0
  const updateCost = (event) =>{ 
  const val = event.target.value;
  const price = event.target.dataset.price
  const total = val*price;
  const costOutput = event.target.parentElement.lastElementChild.textContent = total
  }
  </script>
  <script>
  const addToWallet = (event) => {
    const bank = 75000
    console.log(bank,"bank log")
    let val = event.target.parentElement.children[2].children[3].value;
    let wallet = document.querySelector('.wallet-list')
    let price = event.target.dataset.price
    let ticker = event.target.dataset.ticker
    tickers.push({ticker,price,quantity:val})
    var div = document.createElement('div');
    const total = val*price;
    if(bank < total) return alert("NOT ENOUGH!");
    div.innerHTML = `<li><h1>Ticker: ${ticker}</h1><p>Purchase Price: ${price}</p><p>Total Cost: ${total}</p><p>Quantity: ${val}<p><li>`;
    document.querySelector('.walletTotal').textContent = (`${walletCost(tickers)}`)
    document.querySelector('.bankTotal').textContent = (`${bankCost(total,bank)}`)
    console.log(bank,"bank log#2")
    wallet.append(div)
    console.log(tickers)
    walletCost(tickers)
  }

</script>
<script src="./js/coins.js"></script>
<script src="./js/helpers.js"></script>